(()=>{"use strict";window.onload=function(){const e="1f10bd3195bf40e7b89a3c607aefcdef";function a(){const e=document.getElementsByClassName("bookmark");let a=Array.from(e);console.log(a),a.forEach((e=>{e.addEventListener("click",(function(a){console.log("5");let t=e.id;console.log(t);let s=e.parentElement.parentElement.parentElement.firstElementChild.src;console.log(s);let l=e.previousSibling.outerText;console.log(l);let n=e.parentElement.parentElement.lastElementChild.lastElementChild.lastElementChild.outerText;console.log(n),fetch("https://web2-courseproject-rayankhyare.herokuapp.com/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"5",gameId:t,gameImg:s,gameName:l,gameRelease:n})}).then((e=>e.json())),alert("Game bookmarked !")}))}))}async function t(){const a=await fetch(`https://api.rawg.io/api/games?key=${e}`);return await a.json()}setTimeout((function(){const e=document.getElementsByClassName("bookmark");let a=Array.from(e);console.log(a),a.forEach((e=>{e.addEventListener("click",(function(a){console.log("5");let t=e.id;console.log(t);let s=e.parentElement.parentElement.parentElement.firstElementChild.src;console.log(s);let l=e.previousSibling.outerText;console.log(l);let n=e.parentElement.parentElement.lastElementChild.lastElementChild.lastElementChild.outerText;console.log(n),fetch("https://web2-courseproject-rayankhyare.herokuapp.com/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"5",gameId:t,gameImg:s,gameName:l,gameRelease:n})}).then((e=>e.json())),alert("Game bookmarked !")}))}))}),500),setTimeout((function(){const e=document.getElementsByClassName("delete");let a=[].slice.call(e);console.log(a),a.forEach((e=>{e.addEventListener("click",(function(a){fetch(`https://web2-courseproject-rayankhyare.herokuapp.com/games/${e.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log("Challenge succesfully removed:",e),alert("Game was successfully removed !"),setTimeout(window.location.reload(),300)}))}))}))}),500),function(){let e=document.getElementById("bookmarkedcontainer"),a="";fetch("https://web2-courseproject-rayankhyare.herokuapp.com/games",{method:"GET"}).then((e=>e.json())).then((t=>{for(let s=t.length-1;s>=0;s--)a=`\n                    <div class="allgamesection">\n                    <img class="img" src="${t[s].gameImg}" alt="Avatar" style="width:100%">\n\n                    <div class="allgametext">\n                        <p class="allgametitle "><b class="game">${t[s].gameName}</b><i class="material-icons delete" id="${t[s]._id}">delete</i></p>\n                        <p><b class="allgamerelease">Release date : ${t[s].gameRelease}</b></p>\n\n                    </div>\n\n                </div>\n                   `,e.insertAdjacentHTML("beforeend",a)}))}(),function(){const t=document.getElementById("searchinput");console.log(t),t.addEventListener("keyup",(async function(t){if(t.preventDefault(),"Enter"!==t.key)return;const s=document.getElementById("searchinput").value.replace(/ /g,"-").toLowerCase();console.log(s);let l=await fetch(`https://api.rawg.io/api/games?search=${s}&key=${e}`);if(l.ok){let e=(await l.json()).results;console.log(e);let a="";e.forEach((e=>{let t=e.name,s=e.background_image,l=e.released,n=document.getElementById("allgamescontainer");a+=`\n                    <div class="allgamesection">\n            <img class="img" src="${s}" alt="Avatar" style="width:100%">\n\n            <div class="allgametext">\n                <p class="allgametitle"><b class="title game">${t}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n                <p><b class="allgamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${l}</b></b></p>\n\n            </div>\n\n        </div>`,n.innerHTML=a}))}else alert("error: "+response.status);setTimeout(a,500)}))}(),function(){const t=document.getElementById("searchinput");console.log(t),t.addEventListener("keyup",(async function(t){if(t.preventDefault(),"Enter"!==t.key)return;const s=document.getElementById("searchinput").value.replace(/ /g,"-").toLowerCase();console.log(s);let l=await fetch(`https://api.rawg.io/api/games?search=${s}&key=${e}`);if(l.ok){let e=(await l.json()).results;console.log(e);let a="";e.forEach((e=>{let t=e.name,s=e.background_image,l=e.released,n=document.getElementById("bookmarkedcontainer");a+=`\n                    <div class="allgamesection">\n            <img class="img" src="${s}" alt="Avatar" style="width:100%">\n\n            <div class="allgametext">\n                <p class="allgametitle"><b class="title game">${t}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n                <p><b class="allgamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${l}</b></b></p>\n\n            </div>\n\n        </div>`,n.innerHTML=a}))}else alert("error: "+response.status);setTimeout(a,500)}))}(),async function(){const a=await fetch(`https://api.rawg.io/api/games/${id}?key=${e}`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=(e.background_image,e.metacritic),s=(e.released,"");s+=`   <div class="bodycontainergame">\n            <div class="leftsidegameinfo">\n                <div class="gameheader">\n                    <div class="nameandscore">\n                        <h2 class="gamename">${a}</h2>\n                        <h2 class="metascore">${t}</h2>\n                    </div>\n                    <h3 class="gamestudio">Test</h3>\n                </div>\n                <h2 class="about">About</h2>\n                <p class="gameinfo">Test</p>\n                <h2 class="releasedate_h2">Release date</h2>\n                <h3 class="releasedate_h3">Test</h3>\n\n                <div class="release_platforms">\n                    <div class="releasedate_div">\n                        <h2 class="releasedate_h2">Platforms</h2>\n                        <h3 class="releasedate_h3">- Test</h3>\n                        <h3 class="releasedate_h3">- Test</h3>\n                    </div>\n\n                    <div class="platforms_div">\n                        <h2 class="releasedate_h2">Genre</h2>\n                        <h3 class="releasedate_h3">- Test</h3>\n                        <h3 class="releasedate_h3">- Test</h3>\n                    </div>\n                </div>\n            </div>\n            <div class="rightsidegameinfo">\n                <img src="Test" class="bigimggame" alt="Avatar">\n            </div>\n        </div>\n        <h2 class="pictures_h2">More pictures :</h2>\n        <div class="pictures_gameinfo">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n        </div>`,document.getElementById("bigcontainergame").insertAdjacentHTML("beforeend",s)}))})),function(){const a=document.getElementsByClassName("game");let t=[].slice.call(a);console.log("gamesArray"),t.forEach((a=>{a.addEventListener("click",(function(t){t.preventDefault();let s=a.id;sessionStorage.setItem("id",s),window.location.href="./moreinfo.html";let l=sessionStorage.getItem("id");fetch(`https://api.rawg.io/api/games/${l}?key=${e}`).json().then((e=>{e.results.forEach((e=>{let a=e.name,t=(e.background_image,e.metacritic),s=(e.released,"");s+=`   <div class="bodycontainergame">\n                        <div class="leftsidegameinfo">\n                            <div class="gameheader">\n                                <div class="nameandscore">\n                                    <h2 class="gamename">${a}</h2>\n                                    <h2 class="metascore">${t}</h2>\n                                </div>\n                                <h3 class="gamestudio">Test</h3>\n                            </div>\n                            <h2 class="about">About</h2>\n                            <p class="gameinfo">Test</p>\n                            <h2 class="releasedate_h2">Release date</h2>\n                            <h3 class="releasedate_h3">Test</h3>\n            \n                            <div class="release_platforms">\n                                <div class="releasedate_div">\n                                    <h2 class="releasedate_h2">Platforms</h2>\n                                    <h3 class="releasedate_h3">- Test</h3>\n                                    <h3 class="releasedate_h3">- Test</h3>\n                                </div>\n            \n                                <div class="platforms_div">\n                                    <h2 class="releasedate_h2">Genre</h2>\n                                    <h3 class="releasedate_h3">- Test</h3>\n                                    <h3 class="releasedate_h3">- Test</h3>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="rightsidegameinfo">\n                            <img src="Test" class="bigimggame" alt="Avatar">\n                        </div>\n                    </div>\n                    <h2 class="pictures_h2">More pictures :</h2>\n                    <div class="pictures_gameinfo">\n                        <img src="Test" alt="Avatar">\n                        <img src="Test" alt="Avatar">\n                        <img src="Test" alt="Avatar">\n                        <img src="Test" alt="Avatar">\n                        <img src="Test" alt="Avatar">\n                        <img src="Test" alt="Avatar">\n                    </div>`,document.getElementById("bigcontainergame").insertAdjacentHTML("beforeend",s)}))}))}))}))}(),async function(){const a=await fetch(`https://api.rawg.io/api/games?key=${e}&metacritic=75,100&dates=2021-11-01,2021-12-01`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),l=document.getElementById("novembergotm"),n="";n+=`   <div class="gamesection">\n       <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n       <div class="gametext">\n            <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n             <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n       </div>\n\n    </div>`,l.insertAdjacentHTML("beforeend",n)}))})),async function(){const a=await fetch(`https://api.rawg.io/api/games?key=${e}&dates=2021-01-01,2021-12-31&ordering=-added`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),l=document.getElementById("populargames"),n="";n+=`   <div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="gametext">\n                <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n                <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n\n            </div>\n\n        </div>`,l.insertAdjacentHTML("beforeend",n)}))})),t().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),l=document.getElementById("allgames"),n="";n+=`<div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n     \n            <div class="gametext">\n                 <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n                  <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n            </div>\n     \n         </div>`,l.insertAdjacentHTML("beforeend",n)}))})),t().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),l=document.getElementById("allgamescontainer"),n="";n+=`<div class="allgamesection">\n            <img class="img" id="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="allgametext">\n                <p class="allgametitle"><b class="title game" id="title">${a}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n                <p><b class="allgamerelease" id="allgamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n\n            </div>\n\n        </div>`,l.insertAdjacentHTML("beforeend",n)}))}))}})();