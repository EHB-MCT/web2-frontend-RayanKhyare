(()=>{"use strict";window.onload=function(){const e="1f10bd3195bf40e7b89a3c607aefcdef";async function a(){const a=await fetch(`https://api.rawg.io/api/games?key=${e}`);return await a.json()}setTimeout((function(){const e=document.getElementsByClassName("bookmark");let a=Array.from(e);console.log(a);let t=document.getElementsByClassName("title").id,s=document.getElementsByClassName("img").src,n=document.getElementsByClassName("title").value,l=document.getElementsByClassName("allgamerelease");a.forEach((e=>{e.addEventListener("click",(function(e){fetch("https://web2-courseproject-rayankhyare.herokuapp.com/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:5,gameId:t,gameImg:s,gameName:n,gameRelease:l})}).then((e=>e.json()))}))}))}),200),function(){let e=document.getElementById("bookmarkedcontainer"),a="";fetch("https://web2-courseproject-rayankhyare.herokuapp.com/games",{method:"GET"}).then((e=>e.json())).then((t=>{for(let s=0;s<t.length;s++)a=`\n                    <div class="allgamesection" id="${t[s].gameId}">\n                    <img class="img" src="${t[s].gameImg}" alt="Avatar" style="width:100%">\n\n                    <div class="allgametext">\n                        <p class="allgametitle"><b>${t[s].gameName}</b></p>\n                        <p><b class="allgamerelease">Release date : ${t[s].gameRelease}</b></p>\n\n                    </div>\n\n                </div>\n                   `,e.insertAdjacentHTML("beforeend",a)}))}(),function(){const a=document.getElementById("searchinput");console.log(a),a.addEventListener("keyup",(async function(a){if(a.preventDefault(),"Enter"!==a.key)return;const t=document.getElementById("searchinput").value.replace(/ /g,"-").toLowerCase();console.log(t);let s=await fetch(`https://api.rawg.io/api/games?search=${t}&key=${e}`);if(s.ok){let e=(await s.json()).results;console.log(e);let a="";e.forEach((e=>{let t=e.name,s=e.background_image,n=e.released,l=document.getElementById("allgamescontainer");a+=`\n                    <div class="allgamesection">\n            <img class="img" src="${s}" alt="Avatar" style="width:100%">\n\n            <div class="allgametext">\n                <p class="allgametitle"><b class="title" id="${e.id}">${t}</b></p>\n                <p><b class="allgamerelease">Release date : ${n}</b></p>\n\n            </div>\n\n        </div>`,l.innerHTML=a}))}else alert("error: "+response.status)}))}(),async function(){const a=await fetch(`https://api.rawg.io/api/games/${id}?key=${e}`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=(e.background_image,e.metacritic),s=(e.released,"");s+=`   <div class="bodycontainergame">\n            <div class="leftsidegameinfo">\n                <div class="gameheader">\n                    <div class="nameandscore">\n                        <h2 class="gamename">${a}</h2>\n                        <h2 class="metascore">${t}</h2>\n                    </div>\n                    <h3 class="gamestudio">Test</h3>\n                </div>\n                <h2 class="about">About</h2>\n                <p class="gameinfo">Test</p>\n                <h2 class="releasedate_h2">Release date</h2>\n                <h3 class="releasedate_h3">Test</h3>\n\n                <div class="release_platforms">\n                    <div class="releasedate_div">\n                        <h2 class="releasedate_h2">Platforms</h2>\n                        <h3 class="releasedate_h3">- Test</h3>\n                        <h3 class="releasedate_h3">- Test</h3>\n                    </div>\n\n                    <div class="platforms_div">\n                        <h2 class="releasedate_h2">Genre</h2>\n                        <h3 class="releasedate_h3">- Test</h3>\n                        <h3 class="releasedate_h3">- Test</h3>\n                    </div>\n                </div>\n            </div>\n            <div class="rightsidegameinfo">\n                <img src="Test" class="bigimggame" alt="Avatar">\n            </div>\n        </div>\n        <h2 class="pictures_h2">More pictures :</h2>\n        <div class="pictures_gameinfo">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n            <img src="Test" alt="Avatar">\n        </div>`,document.getElementById("bigcontainergame").insertAdjacentHTML("beforeend",s)}))})),async function(){const a=await fetch(`https://api.rawg.io/api/games?key=${e}&metacritic=75,100&dates=2021-11-01,2021-12-01`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),n=document.getElementById("novembergotm"),l="";l+=`   <div class="gamesection">\n       <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n       <div class="gametext">\n            <p class="gametitle"><b class="title" id="${e.id}">${a}</b></p>\n             <p><b class="gamerelease">Release date : ${s}</b></p>\n       </div>\n\n    </div>`,n.insertAdjacentHTML("beforeend",l)}))})),async function(){const a=await fetch(`https://api.rawg.io/api/games?key=${e}&dates=2021-01-01,2021-12-31&ordering=-added`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),n=document.getElementById("populargames"),l="";l+=`   <div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="gametext">\n                <p class="gametitle"><b class="title" id="${e.id}">${a}</b></p>\n                <p><b class="gamerelease">Release date : ${s}</b></p>\n\n            </div>\n\n        </div>`,n.insertAdjacentHTML("beforeend",l)}))})),a().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),n=document.getElementById("allgames"),l="";l+=`<div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n     \n            <div class="gametext">\n                 <p class="gametitle"><b class="title" id="${e.id}">${a}</b></p>\n                  <p><b class="gamerelease">Release date : ${s}</b></p>\n            </div>\n     \n         </div>`,n.insertAdjacentHTML("beforeend",l)}))})),a().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=(e.metacritic,e.released),n=document.getElementById("allgamescontainer"),l="";l+=`<div class="allgamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="allgametext">\n                <p class="allgametitle"><b class="title" id="${e.id}">${a}</b><i class="material-icons bookmark">bookmark_border</i></p>\n                <p><b class="allgamerelease">Release date : ${s}</b></p>\n\n            </div>\n\n        </div>`,n.insertAdjacentHTML("beforeend",l)}))}))}})();