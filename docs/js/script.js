(()=>{"use strict";var e,a={965:(e,a,t)=>{t.d(a,{q1:()=>s});const s="0f742c4d7ba64f8f87a469a43cdc46aa"}},t={};function s(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return a[e](l,l.exports,s),l.exports}s.d=(e,a)=>{for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},s.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),e=s(965),window.onload=function(){function a(){const e=document.getElementsByClassName("bookmark");Array.from(e).forEach((e=>{e.addEventListener("click",(function(a){let t=sessionStorage.getItem("userId"),s=e.id,n=e.parentElement.parentElement.parentElement.firstElementChild.src,l=e.previousSibling.outerText,i=e.parentElement.parentElement.lastElementChild.lastElementChild.lastElementChild.outerText;fetch("https://web2-courseproject-rayankhyare.herokuapp.com/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,gameId:s,gameImg:n,gameName:l,gameRelease:i})}).then((e=>e.json())),e.innerHTML="bookmark"}))}))}function t(){const e=document.getElementsByClassName("game");[].slice.call(e).forEach((e=>{e.addEventListener("click",(function(a){setTimeout(500),a.preventDefault();let t=e.nextSibling.id;window.location.href=`./gameinfo.html?id=${t}`}))}))}(async function(){const a=await fetch(`https://api.rawg.io/api/games?key=${e.q1}&metacritic=75,100&dates=2021-11-01,2021-12-01`);return await a.json()})().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=e.released,n=document.getElementById("novembergotm"),l="";l+=`<div class="gamesection">\n       <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n       <div class="gametext">\n            <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark game" id="${e.id}">bookmark_border</i></p>\n             <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n       </div>\n    </div>\n    `,n.insertAdjacentHTML("beforeend",l)})),a(),t()})),async function(){const a=await fetch(`https://api.rawg.io/api/games?key=${e.q1}&dates=2021-01-01,2021-12-31&ordering=-added`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=e.released,n=document.getElementById("populargames"),l="";l+=`   <div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="gametext">\n                <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark game" id="${e.id}">bookmark_border</i></p>\n                <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n\n            </div>\n\n        </div>`,n.insertAdjacentHTML("beforeend",l)})),a(),t()})),async function(){const a=await fetch(`https://api.rawg.io/api/games?key=${e.q1}&ordering=added`);return await a.json()}().then((e=>{e.results.forEach((e=>{let a=e.name,t=e.background_image,s=e.released,n=document.getElementById("allgames"),l="";l+=`<div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n     \n            <div class="gametext">\n                 <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark game" id="${e.id}">bookmark_border</i></p>\n                  <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n            </div>\n     \n         </div>`,n.insertAdjacentHTML("beforeend",l)})),a(),t()})),document.getElementById("searchinput").addEventListener("keyup",(async function(s){if(s.preventDefault(),"Enter"!==s.key)return;const n=document.getElementById("searchinput").value.replace(/ /g,"-").toLowerCase();let l=await fetch(`https://api.rawg.io/api/games?search=${n}&key=${e.q1}`);if(l.ok){let e=(await l.json()).results,s="";e.forEach((e=>{let a=e.name,t=e.background_image,n=e.released,l=document.getElementById("allgamescontainerBookmark");s+=`\n                    <div class="allgamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="allgametext">\n                <p class="allgametitle"><b class="title game">${a}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n                <p><b class="allgamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${n}</b></b></p>\n            </div>\n        </div>`,l.innerHTML=s})),a(),t()}else alert("error: "+response.status)}))}})();